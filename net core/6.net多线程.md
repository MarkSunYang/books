1. 描述线程和进程之间的区别
2. 为什么GUI不支持跨线程调用?有什么解决方法？
3. 前台线程和后台线程的区别
4. 说说常用的锁，lock是一种什么样的锁？
5. lock为什么要锁定一个参数（可否为值类型？）参数有什么要求？
6. 多线程和异步的区别和联系
7. 线程池的有点和不足
8. Mutex和lock有什么不同？一般用哪一种比较好？

线程基础：
系统中有很多进程，每个进程都有自己的内存地址空间，每个地址相当于一个独立的边界，有自己独占的资源，进程之间不能共享代码和空数据空间。线程是操作及系统调度的基本单元，线程是操作系统用来执行和调度的。

线程的开销及调度：
操作系统中那么多线程（一般都有上千个线程，大部分都处于休眠状态），对于单核CPU，一次只能有一个线程被调度执行，那么多线程怎么分配的呢？Winsows系统采用时间轮训机制，CPU计算资源以时间片（大约30ms）的实行分配给执行线程。

计算机资源（CPU核心和CPU寄存器）一次只能调度一个线程，具体的调度流程： 
 1.把CPU寄存器内的数据保存到当前线程内部（线程上下文等地方），给下一个线程腾地方；
 2.线程调度：再线程集合里取出一个需要执行的线程；
 3.加载新线程的上下文数据到CPU寄存器；
 4.新线程执行，享受她自己的CPU时间片（大约30ms），完了之后继续回到第一步，继续轮回；

上面的线程低矮度的过程就是线程切换，一次切换就会涉及到线程上下文数据，性能开销很大，因此线程不可以滥用，线程的创建和消费也是昂贵的，这就是为什么尽量使用线程池的原因。


多线程：
线程池ThreadPool
把需要执行的代码提交到线程池，线程池内部会安排一个空闲的线程来执行你的代码，完全不用管理内部是如何进行线程调度的。
ThreadPool.QueqeUserWorkItem(t=>Console.WriteLine("Hello thread pool"));

线程池的主要结构如下：
1.线程池内部维护一个请求队列，用户缓存用户需要执行的俄任务
2.有新任务后，线程池使用空闲或者新线程来执行队列请求
3.任务执行完后线程不会销毁，留着重复使用；
4.线程池自己负责维护线程的创建和销毁，但线程池有大量闲置的线程是，线程池会自动结束一部分多余的线程来释放资源；
缺点：
 1.线程池内的线程不支持线程的挂起、取消等操作，如想要取消线程池的任务，.net支持一种协作方式取消，使用起来也不少很方便，而且有些场景并不是很满足需求；
 2.线程内的任务没有返回值，也不知道何时执行完成；
 3.不支持设置线程的优先级，还包括其他类似需要对线程有更多的控制的需求也不支持；

线程的无序特性：


任务Task与并行Parallel
任务Task与并行Parallel本质上内部都是使用的线程池，提供了更丰富的并行编程的方式。任务Task基于线程池，可支持返回值，支持比较强大的任务执行计划定制等功能，下面实例。





C# .net 多线程中集合数据同步
集合类通常不是线程安全的,多个阅读器可以安全的读取集合.但是对集合的任何修改都将为访问集合的所有线程生成不明确的结果.使用以下任何方法都可以令集合类是线程安全的


https://www.cnblogs.com/yank/p/3239813.html


https://blog.csdn.net/u013816709/article/details/44152295




