在使用异步之前，我们需要了解异步给我们带来的优点和缺点

异步：
1. 不涉及共享资源，或对共享资源只读，即非互斥操作
2. 没有时序上的严格关系
3. 不需要原子操作，或可以通过其他方式控制原子性
4. 常用于IO操作等耗时操作，因为比较影响客户体验和使用性能
5. 不影响主线程逻辑

同步：
1. 同步流程对结果处理通常更为简单，可以就近处理。
2. 同步流程对结果的处理始终和前文保持在一个上下文内。
3. 同步流程可以很容易捕获、处理异常。
4. 同步流程是最天然的控制过程顺序执行的方式。


# 1.异步查询

当在数据库中执行查询时，异步查询可避免阻止线程
异步操作还可以增加 Web 应用程序中的吞吐量，其中可以释放线程以在数据库操作完成时处理其他请求。 

Entity Framework Core 提供了一组异步扩展方法，可用作导致执行查询并返回结果的 LINQ 方法的替代方法。 示例包括 ToListAsync()、ToArrayAsync()、SingleAsync() 等。没有 LINQ 运算符（如 Where(...)、OrderBy(...) 等）的异步版本，因为这些方法仅生成 LINQ 表达式树，且不会导致在数据库中执行查询。

public async Task<List<Blog>> GetBlogsAsync()
{
    using (var context = new BloggingContext())
    {
        return await context.Blogs.ToListAsync();
    }
}

# 2.异步保存
考虑到，一种数据可能有多种状态值，需要多次按照顺序保存，这样的情况下，如果异步保存，可能导致数据的状态发生错误

