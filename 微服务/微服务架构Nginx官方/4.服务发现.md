#传统服务 VS 微服务
传统服务：
Nginx(负载均衡) ->Tomcat 8081
                ->Tomcat 8082

微服务
#客户端发现
微服务启动的时候将ip和端口提交到注册中心，客户端，查询注册中心再根据地址访问注册中心，访问微服务，
客户端调用失败可以重试
#服务端发现
微服务将ip和地址注册到注册中心，客户端通过固定的ip和地址（负载均衡和服务发现功能的服务，这个服务实现了代理人的作用），


# 为什么要使用服务发现
当我们远程访问Rest API或者 RPC API的时候，我们必须知道服务的地址和端口，传统的应用程序都是运行在固定的虚拟机上的，IP Address和程序都是运行在固定的物理机上，IP地址和端口号都是相对固定的，可以通过可配置的方式来不定期的更新IP address和端口号，但是基于云的微服务中，这是一个难以解决的问题，

在基于云的微服务应用中，服务实例的网络地址（IP Address和Port）是动态分配的，并且由于系统的auto-scaling, failures 和 upgrades等因数，一些服务运行的实例数量也是动态变化的。因此，客户端代码需要使用一个非常精细和准确的服务发现机制。
（云服务器在重启的时候可能会改变外网地址）

有两种主要的服务发现方式：客户端发现（client-side discovery）和服务器端发现（server-side discovery）。

# 客户端发现方式
在使用客户端发现方式时，客户端通过查询服务注册中心，获取可用的服务的实际网络地址（IP Adress 和 端口号）。然后通过负载均衡算法来选择一个可用的服务实例，并将请求发送至该服务。

在服务启动的时候，向服务注册中心注册服务；在服务停止的时候，向服务注册中心注销服务。服务注册的一个典型的实现方式就是通过heartbeat机制定时刷新。Netflix OSS 就是使用客户端发现方式的一个很好的例子。 Netflix Eureka是一个服务注册中心。它提供了一个管理和查询可用服务的 REST API。 负载均衡功能是通过Netflix Ribbon（是一个IPC客户端）和Eureka一起共同实现的。在文章的后面将深入的介绍Eureka。

客户端发现方式的优缺点。由于客户端知道所有可用的服务的实际网络地址，所以可以非常方便的实现负载均衡功能（比如：一致性哈希）。但是这种方式有一个非常明显的缺点就是具有非常强的耦合性。针对不同的语言，每个服务的客户端都得实现一套服务发现的功能。

# 服务端发现方式
服务的部署，更新和扩容

# 服务编排

