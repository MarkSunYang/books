排队是日常生活中经常遇到的现象，有些排队是有形的，还有些排队是无形的，他们都有一种共同的需求，就是为了得到某种服务，并且他们的到达一般都是随机的，所需要的服务也是随机的，

排队论 也称为随机服务系统理论 

涉及问题：
性态问题
最优化问题：静态最优（最优设计）、动态最优（最优运营）
排队系统的统计推断：统计推断、结构分析>>>判断研究模型

排队系统的组成：
Customer-> -> 到达 -> Queue -> Service Rule -> Serivce ->Customer left
如果服务设置过少或者效率低，会加剧拥挤，但是增加服务设施会增加成本或造成空闲，有些服务设施如机场，港口泊位等一旦建成就不容易改动，因此，有必要对排队系统的结构和运行规律进行研究

排队系统的基本组成部分主要有： 输入过程、排队规则、服务机构

1.输入过程
输入过程是指客户到达排队系统的过程，
顾客源  有限 无限
到达规律 定长 负指数 

2.排队规律
排队规律是指客户到达系统后排队等待服务的方式和规则
1).损失制：顾客到达所有服务 设施均被占用，顾客自动离去
2).等待制：客户到达时若所有服务实施均被占用，则留下来等待，直到被服务完全离开，等待机制的排队规则可以按照顾客服务的此讯分为如下几种
先到先服务  后到先服务  具有优先权的服务
3).混合制  损失制和等待制的混合

3.服务机构
对于服务机构的研究内容要有服务设施（服务台）的数量和服务规律
1).服务台个数：
2).服务规律：指服务时间v 的分布

排队模型的掩饰




四种规则：
1. 先到先服务 FCFS：按顾客到达的先后顺序对顾客进行服务，这是最普遍的情形
2. 后到先服务 LCFS：仓库中迭放的钢材，后迭放上去的都先被领走，就属于这种情况
3. 随机服务 RAND：即当服务台空闲时，不按照排队序列而随意指定某个顾客去接受服务，如对于同种型号的出故障的机器进行修理时，从中任意取出一台先修理
4. 优先权服务（PR）：如老人、儿童先进车站；危重病员先就诊；遇到重要数据需要处理计算机立即中断其他数据的处理等，均属于此种服务规则



秒杀的排队系统设计理念：

1).限流：当秒杀活动开始后，只有少部分消费者能抢到秒杀商品，意味着大部分用户的流量传达到后台服务后都是无效的，如果能引导这大部分流量，不让这大部分的流量传达到后后台，会减小系统压力，设计思路就是仅让能成功抢到商品的流量进入到系统

2).削峰：进入系统的有效流量虽然不一定是很大的，但是是在很短时间内涌入的，因此会存在很高的瞬时流量峰值，总量相同的流量会在1秒进入刺痛，和在10分钟内均匀的进入系统，对系统的冲击是很大的饿，高峰往往会压垮系统，设计思路是如何将瞬时流量拉平，使得系统可以在自己处理范围内，将所有抢购的请求处理完毕

3).异步处理：传统的系统对于请求是同步处理的，即收到请求后立即处理并把结果返回给用户。我们的系统有了削峰的设计后，请求不是被立刻处理的，因此就要求我们能将同步的服务改造成异步的。

4).可用性：我们设计时始终把系统的可用性放在重要的位置，针对系统可能出现的各种状况，都尽最大程度地保证高可用。

5).用户体验：系统设计一定要充分考虑用户体验。消费者点击抢购按钮后，无论是否能抢到商品，期望是能得到及时的反馈。系统上发生任何故障也要尽可能的保证用户体验的损害减到最小。

